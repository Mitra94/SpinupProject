<%= stylesheet_link_tag "application.css" %>

<br><br><br>

<div id="information">
<div id="anagraphics">
<p>
<strong>Name:</strong>
<%= @developer.name %>
</p>
<p>
<strong>Surname:</strong>
<%= @developer.surname %>
</p>
<p>
<strong>Email:</strong>
<%= @developer.email %>
</p>
<p>
<strong>Age:</strong>
<%= @developer.age %>
</p>
<p>
<strong>City:</strong>
<%= @developer.city %>
</p>
</div>
<div class="photo">
<%= image_tag @developer.picture.url if @developer.picture? %>
</div>
</div>
<% if current_dev.id != Developer.find(params[:id]).id %>
<p><%= link_to 'Invite this developer to work on some of your apps', controller: 'apps', action: 'choose_your_apps' %>
<% end %>
</p>

<hr>

<p><strong>Skills:</strong></p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "HTML+CSS: " %>
	&ensp; &ensp; &ensp; &ensp;	
	<%= @skill.html_css %>
	&ensp; &ensp; &ensp; &ensp;	
	<%= Approval.where("skill = ? AND voted = ?", "htmlcss", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "htmlcss", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_htmlcss' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_htmlcss' %>
	</p>


	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "Java: " %>
	&ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp; &ensp;
	<%= @skill.java %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "java", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "java", @developer, current_dev.id).count == 0%>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_java' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_java' %>
	</p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "Javascript: " %>
	&nbsp; &ensp; &ensp; &ensp; &ensp;
	<%= @skill.javascript %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "javascript", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "javascript", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_javascript' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_javascript' %>
	</p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "C: " %>
	&ensp; &ensp; &ensp; &ensp; &ensp; &nbsp; &ensp; &ensp; &ensp; &ensp;
	<%= @skill.c %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "c", @developer).count%>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "c", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_c' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_c' %>
	</p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "C++: " %>
	&ensp; &ensp; &ensp; &nbsp; &ensp; &ensp; &ensp; &ensp;
	<%= @skill.c_plus_plus %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "cplus", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "cplus", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_cplus' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_c_plus_plus' %>
	</p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "Nodejs: " %>
	&ensp; &nbsp; &nbsp; &ensp; &ensp; &ensp; &ensp;
	<%= @skill.nodejs %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "nodejs", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "nodejs", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_nodejs' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_nodejs' %>
	</p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "Database: " %>
	&nbsp; &nbsp; &nbsp; &nbsp; &ensp; &ensp;
	<%= @skill.database %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "database", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "database", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_database' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_database' %>
	</p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "Algorithms: " %>
	&ensp; &ensp; &ensp; &ensp;
	<%= @skill.algorithms %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "algorithms", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "algorithms", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_algorithms' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_algorithms' %>
	</p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "Android: " %>
	&ensp; &nbsp; &nbsp; &nbsp; &ensp; &ensp; &nbsp;
	<%= @skill.android %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "android", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "android", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_android' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_android' %>
	</p>

	<p>
	&ensp; &ensp; &ensp; &ensp;
	<%= "iOS: " %>
	&ensp; &ensp; &ensp; &nbsp; &nbsp; &ensp; &ensp; &ensp; &ensp;
	<%= @skill.ios %>
	&ensp; &ensp; &ensp; &ensp;
	<%= Approval.where("skill = ? AND voted = ?", "ios", @developer).count %>
	<%= "developers approved" %>
	&ensp; &ensp; &ensp; &ensp;
	<% if current_dev.id != Developer.find(params[:id]).id and Approval.where("skill = ? AND voted = ? AND voter = ?", "ios", @developer, current_dev.id).count == 0 %>
		<%= link_to 'Approve', controller: 'skills', action: 'edit_ios' %>
	<% end %>
	&ensp; &ensp; &ensp; &ensp;
	<%= link_to 'Who voted this?', controller: 'skills', action: 'show_ios' %>
	</p>

<hr>

<p><strong>Apps:</strong></p>

<% App.all.each do |app| %>

	<% if app.developers.exists?(params[:id]) %>

			<p>
			&ensp; &ensp; &ensp; &ensp;
			<%= link_to "#{app.name}", controller: 'apps', action: 'show', :id => app.id %>
			&ensp; &ensp; &ensp; &ensp;
			<%= link_to "Modify App", controller: 'apps', action: 'edit', :id => app.id %>
			<% if app.developers.first.id == current_dev.id %>
			&ensp; &ensp; &ensp; &ensp;
			<%= link_to "Delete App", app_path(app), method: :delete %>
			<% end %>
			</p>

	<% end %>


<% end %>